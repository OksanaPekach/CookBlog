<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cook&Learn</title>
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css" />
    <link rel="stylesheet" href="./style/style.css">
</head>

<body>

    <header>
        <div class="navbar">
            <div class="container">
                <p>
                    <img src="./img/logo.png" width="50" height="50" alt="logo"> 
                </p>
               <h1>Cook&Learn <br>Best recipes to learn English </h1>
               <p>
               <img src="./img/type-3.png" width="80" height="80" alt="logo">
             </p>
            </div>
        </div>

        <div class="inner">
            <nav class="nav nav-masthead">
                <a class="nav-link active"  href="index.html">Home</a>
                <a class="nav-link"  href="blog.html">Blog</a>
                <a class="nav-link"  href="contact.html">Contact</a>
            </nav>
        </div>

    </header>

    <main role="main">

        <section class="jumbotron text-center">
            <div class="container">
                <div class="carousel">
                    <div><img class="foto-slick" src="./img/7.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/6.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/9.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/11.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/8.jpg" alt=""> </div>
                </div>


                <h2 class="welcome">Welcome to Cook&Learn!</h2>
                <h5 class="lead"> <strong>At this site you can learn English very quickly and you will enjoy the
                        process.
                        There are the best resipes conteined here. At the same time they are very simple and delicious.
                        It will be usefull for beginers and for professionals. If you have an ideas of resipes, you are
                        wellcome to send me a letter.
                        And I will publish them later.</strong>
                </h5>
            </div>
        </section>





       
        <div class="album">
            <div class="container">
                <form>
                    <button class="back btn btn-warning" type="button">
                        <-Back</button>
                            <input class="input-search" name="i" placeholder="Search ingridients" type="text">
                            <button class="search-ingridients btn btn-danger" type="button">Search</button>
                            <input class="input-search" name="q" placeholder="Search title" type="text">
                            <button class="search-title btn btn-danger" type="button">Search</button>
                </form>

                <div class="row" id="cards">            
                </div>
                <p class="page"> </p>
                <div class="search col-12">
                    <button type="button" class="prev btn btn-success btn-lg">
                        <-Prev</button>
                            <button type="button" class="next btn btn-success btn-lg">Next-></button>
                </div>
            </div>
        </div>

    </main>
   
   <section>
        <div class="container">
            <div class="quote-block">
                
                    <ul class="carousel">
                        
                        <li>
                            <blockquote>
                                <p>&ldquo;'Cooking is an art, but all art requires knowing something about the techniques and materials&ldquo;</p>
                                <p class="quote-author">&mdash;Nathan Myhrvold</p>
                            </blockquote>
                        </li>
                        <li>
                            <blockquote>
                                <p>&ldquo;Give a man food, and he can eat for a day. Give a man a job, and he can only eat for 30 minutes on break.&rdquo;</p>
                                <p class="quote-author">&mdash; Lev L. Spiro</p>
                            </blockquote>
                        </li>
                        <li>
                            <blockquote>
                                <p>&ldquo;Find something youâ€™re passionate about and keep tremendously interested in it.&rdquo;</p>
                                <p class="quote-author">&mdash; Julia Child</p>
                            </blockquote>
                        </li>
                        <li>
                            <blockquote>
                                <p>&ldquo;Never work before breakfast; if you have to work before breakfast, eat your breakfast first.&rdquo;</p>
                                <p class="quote-author">&mdash; Josh Billings</p>
                            </blockquote>
                        </li>
                        
                        
                    </ul>
                
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p class="float-right">
                <a  href="#">Back to top<img src="./img/hand.png" width="50" height="50" alt="Facebook"></a>
          </p>
          <p class="footer-link">
                <a  href="index.html">Home</a>
                <a  href="blog.html">Blog</a>
                <a  href="contact.html">Contact</a>
            </p>   
           <p class="footer-link">Join us on <a href="https://www.facebook.com/profile.php?id=100011325960861" target="_blank">Facebook
                <img src="./img/facebook.png" width="50" height="50" alt="Facebook"></a></p>
           <p> <span>Designed by Oksana Pekach 2020</span></p>
        </div>
    </footer>


    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <script type="text/javascript" src="slick/slick.min.js"></script>

    <script>
   
        $(document).ready(function () {
            $('.carousel').slick({
                "autoplay": true,
                "autoplaySpeed": 5000
            });
        });
        $('.back').on('click', function () {
            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=1`;
            load();
            $('.prev').show();
            $('.next').show();
        }
        )

        $('.search-ingridients').on('click', function () {

            var ingridients;
            ingridients = $('input[name="i"]').val();
            console.log(ingridients);
            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?i=${ingridients}`;
            load();
            $('input[name="i"]').val('');
            $('.prev').hide();
            $('.next').hide();
            console.log(url);

        }
        )
        $('.search-title').on('click', function () {

            var title;
            title = $('input[name="q"]').val();
            console.log(title);
            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?i=${title}`;
            load();
            $('input[name="q"]').val('');
            $('.prev').hide();
            $('.next').hide();
            console.log(url);
        }
        )
        const row = document.querySelector('#cards');
        let url = 'https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=1';
        let p = 1;
        function load() {

            $.ajax({
                url: url,
                type: 'GET'
            })
                .done(function (data) {
                    //console.log(data);
                    var res = JSON.parse(data);

                    let template = "";

                    res.results.forEach(item => {
                        //console.dir(item);
                        if (item.thumbnail)
                            template +=
                                `<div class="card-deck col-md-4">                                                                                                                               
                                 <div class="card mb-4 shadow-sm"> 
                                 <img class="foto" src="${item.thumbnail}"/>    
                                 <div class="card-body"> 
                                 <h3 class="card-text">${item.title}</h3>
                                 <h6 class="ingrid"><strong>Ingredients : </strong> ${item.ingredients}</h6> 
                                 </div>                                                                                                                                                     
                                 <div class="card-footer"> 
                                 <button type="button" class="btn  btn-lg btn-outline-success"> 
                                 <a class="rec" href="${item.href}" target="_blank">Read more</a></button> 
                                 </div>      </div>    </div>`;
                    })

                    row.innerHTML = template;
                    $(".page").text(p);

                })
                .fail(function (error) {
                    console.log(error);
                    alert("error");
                })
        };
        load();
        $('.next').on('click', function () {

            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=${++p}`;
            load();

            console.log(url);
            $(".page").text(p);
        }
        )

        $('.prev').on('click', function () {
            p--;
            if (p > 0) {
                url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=${p}`;
                load();

                console.log(url);


            }
            else p = 0;
        }
        )


    </script>
</body>

</html>