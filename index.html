<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cook&Learn</title>
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css" />
    <link rel="stylesheet" href="./style/style.css">
</head>

<body>

    <header>
        <div class="navbar">
            <div class="container">
                <h1>Cook&Learn <br>Best recipes to learn English </h1>
            </div>
        </div>

        <div class="inner">
            <nav class="nav nav-masthead">
                <!-- <a class="nav-link active" id="index" href="index.html">Home</a> -->
                <a class="nav-link active"  href="index.html">Home</a>
                <a class="nav-link"  href="blog.html">Blog</a>
                <a class="nav-link"  href="contact.html">Contact</a>
            </nav>
        </div>

    </header>

    <main role="main">

        <section class="jumbotron text-center">
            <div class="container">
                <div class="carousel">
                    <!-- <div><img class="foto-slick" src="./img/5.jpg" alt=""> </div> -->
                    <div><img class="foto-slick" src="./img/7.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/6.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/9.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/11.jpg" alt=""> </div>
                    <div><img class="foto-slick" src="./img/8.jpg" alt=""> </div>
                </div>


                <h3>Welcome to Cook&Learn!</h3>
                <h5 class="lead"> <strong>At this site you can learn English very quickly and you will enjoy the
                        process.
                        There are the best resipes conteined here. At the same time they are very simple and delicious.
                        It will be usefull for beginers and for professionals. If you have an ideas of resipes, you are
                        wellcome to send me a letter.
                        And I will publish them later.</strong>
                </h5>
            </div>
        </section>





        <!-- <div class="album py-5 bg-light"> -->
        <div class="album">
            <div class="container">
                <form>
                    <button class="back btn btn-warning" type="button">
                        <-Back</button>
                            <input class="input-search" name="i" placeholder="Search ingridients" type="text">
                            <button class="search-ingridients btn btn-danger" type="button">Search</button>
                            <input class="input-search" name="q" placeholder="Search title" type="text">
                            <button class="search-title btn btn-danger" type="button">Search</button>
                </form>

                <div class="row" id="cards">
                    <!-- <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            {% include icons/placeholder.svg width="100%" height="225" background="#55595c" color="#eceeef" class="card-img-top" text="Thumbnail" %}
                            <div class="card-body">
                                <p class="card-text">This is a wider card with supporting text below as a natural
                                    lead-in to additional content. This content is a little bit longer.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                                    </div>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>
                    -->
                </div>
                <p class="page"> </p>
                <div class="search col-12">
                    <button type="button" class="prev btn btn-success btn-lg">
                        <-Prev</button>
                            <button type="button" class="next btn btn-success btn-lg">Next-></button>
                </div>
            </div>
        </div>

    </main>

    <footer class="text-muted">
        <div class="container">
            <p class="float-right">
                <a href="#">Back to top</a>
            </p>
            <p>Album example is &copy; Bootstrap, but please download and customize it for yourself!</p>
            <p>New to Bootstrap? <a href="{{ site.url }}/">Visit the homepage</a> or read our <a
                    href="{{ site.baseurl }}/docs/{{ site.docs_version }}/getting-started/introduction/">getting started
                    guide</a>.</p>
        </div>
    </footer>


    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <script type="text/javascript" src="slick/slick.min.js"></script>

    <script>
    //      $('.nav a').on('click', function() {
    //     $('. nav a').each(function (index) {
    //         $(this).removeClass('active');
    //     });
    //     // на нужную вешаешь 
    //     $(this).addClass('active');
    // });

    //     $(document).ready(function() {
    // // var $pages = $('.page');
    // var $links = $('.nav a');
    //     $(function () {
    //         $(".nav a").click(function () {
    //             $(this).siblings().removeClass('active');

    //             $links.removeClass("active");
    //             $(this).addClass("active");
    //         })
    //     });
    //     });
        // var links = $('.nav-link');
        // links.on('click', function() {
        // // links.not(this).removeClass('active')
        // $('.nav-link').addClass('active');
        // console.log(1);
        // });


    //      $('.nav a').on('click', function() {
    //     $('.nav a').addClass('active');
    // });


//    $('.nav a').on('click', function() {
// //   $(".nav-link").not(this).removeClass('active');
//   $(this).addClass('active');
//   })
//   $(function(){
//             $('#link1').click(function(){
//                 $('#link1').toggleClass('active');
//                 // $('#link2').removeClass('active');
//                 // $('#link3').removeClass('active');

//             });
//         });
//  $(function(){
//             $('#link2').click(function(){
//                 $('#link2').toggleClass('active');
//                 $('#link3').toggleClass('active');
//                 $('#link1').toggleClass('active');
//                 // $('#link3').removeClass('active');
//                 // $('#link1').removeClass('active');
//             });
//         });
//  $(function(){
//             $('#link3').click(function(){
//                 $('#link3').toggleClass('active');
//                 // $('#link2').removeClass('active');
//                 // $('#link1').removeClass('active');
//             });
//         });



        $(document).ready(function () {
            $('.carousel').slick({
                "autoplay": true,
                "autoplaySpeed": 3000
            });
        });
        $('.back').on('click', function () {
            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=1`;
            load();
            $('.prev').show();
            $('.next').show();
        }
        )

        $('.search-ingridients').on('click', function () {

            var ingridients;
            ingridients = $('input[name="i"]').val();
            console.log(ingridients);
            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?i=${ingridients}`;
            load();
            $('input[name="i"]').val('');
            $('.prev').hide();
            $('.next').hide();
            console.log(url);

        }
        )
        $('.search-title').on('click', function () {

            var title;
            title = $('input[name="q"]').val();
            console.log(title);
            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?i=${title}`;
            load();
            $('input[name="q"]').val('');
            $('.prev').hide();
            $('.next').hide();
            console.log(url);
        }
        )
        const row = document.querySelector('#cards');
        let url = 'https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=1';
        // let url = '1.JSON';
        let p = 1;
        function load() {

            $.ajax({
                url: url,
                type: 'GET'
            })
                .done(function (data) {
                    //console.log(data);
                    var res = JSON.parse(data);

                    let template = "";

                    res.results.forEach(item => {
                        //console.dir(item);
                        if (item.thumbnail)
                            template +=
                                `<div class="card-deck col-md-4">                                                                                                                               
                                 <div class="card mb-4 shadow-sm"> 
                                 <img class="foto" src="${item.thumbnail}"/>    
                                 <div class="card-body"> 
                                 <h3 class="card-text">${item.title}</h3>
                                 <h6 class="ingrid"><strong>Ingredients : </strong> ${item.ingredients}</h6> 
                                 </div>                                                                                                                                                     
                                 <div class="card-footer"> 
                                 <button type="button" class="btn  btn-lg btn-outline-success"> 
                                 <a class="rec" href="${item.href}" target="_blank">Read more</a></button> 
                                 </div>      </div>    </div>`;
                    })

                    row.innerHTML = template;
                    $(".page").text(p);

                })
                .fail(function (error) {
                    console.log(error);
                    alert("error");
                })
        };
        load();
        $('.next').on('click', function () {

            url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=${++p}`;
            load();

            console.log(url);
            $(".page").text(p);
        }
        )

        $('.prev').on('click', function () {
            p--;
            if (p > 0) {
                url = `https://cors-anywhere.herokuapp.com/recipepuppy.com/api/?p=${p}`;
                load();

                console.log(url);


            }
            else p = 0;
        }
        )


    </script>
    <!-- <script src="mainCalc.js"></script> -->
</body>

</html>